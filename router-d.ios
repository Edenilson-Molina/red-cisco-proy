enable
configure terminal
hostname RouterD
! --- Security & SSH Configuration
service password-encryption
enable secret C0S115-Priv$2025
username admin privilege 15 secret Adm1n-C0S115!
ip domain-name redA.local
crypto key generate rsa general-keys modulus 2048
ip ssh version 2
line console 0
password Con$ole-2025
login
exit
line vty 0 15
login local
transport input ssh
exit
! Configure GigabitEthernet and Serial interfaces
interface g0/1/0
ip address 172.16.30.1 255.255.255.0
no shutdown
exit
interface s0/0/0
ip address 10.0.0.1 255.255.255.252
clock rate 72000
no shutdown
exit
! Configure DHCP for the GigabitEthernet interface
ip dhcp pool REDA_POOL
network 172.16.30.0 255.255.255.0
default-router 172.16.30.1
dns-server 8.8.8.8
domain-name redA.local
exit
! -- Pool Red B VLAN 10
ip dhcp pool REDB_VLAN10
network 172.16.20.0 255.255.255.0
default-router 172.16.20.1
dns-server 8.8.8.8
domain-name redB.local.vlan10
exit
! -- Pool Red B VLAN 20
ip dhcp pool REDB_VLAN20
network 172.16.21.0 255.255.255.0
default-router 172.16.21.1
dns-server 8.8.8.8
domain-name redB.local.vlan20
exit
! -- Pool Red B VLAN 30
ip dhcp pool REDB_VLAN30
network 172.16.22.0 255.255.255.0
default-router 172.16.22.1
dns-server 8.8.8.8
domain-name redB.local.vlan30
exit
! -- Pool Red C VLAN 10
ip dhcp pool REDC_VLAN10
network 172.16.40.0 255.255.255.0
default-router 172.16.40.1
dns-server 8.8.8.8
domain-name redC.local.vlan10
exit
! -- Pool Red C VLAN 20
ip dhcp pool REDC_VLAN20
network 172.16.41.0 255.255.255.0
default-router 172.16.41.1
dns-server 8.8.8.8
domain-name redC.local.vlan20
exit
! -- Pool Red C VLAN 30
ip dhcp pool REDC_VLAN30
network 172.16.42.0 255.255.255.0
default-router 172.16.42.1
dns-server 8.8.8.8
domain-name redC.local.vlan30
exit
! Exclude addresses from DHCP pool
ip dhcp excluded-address 172.16.30.1 172.16.30.10
ip dhcp excluded-address 172.16.20.1 172.16.20.10
ip dhcp excluded-address 172.16.21.1 172.16.21.10
ip dhcp excluded-address 172.16.22.1 172.16.22.10
ip dhcp excluded-address 172.16.40.1 172.16.40.10
ip dhcp excluded-address 172.16.41.1 172.16.41.10
ip dhcp excluded-address 172.16.42.1 172.16.42.10
! Configure OSPF for RouterD
router ospf 1
network 172.16.30.0 0.0.0.255 area 1
network 10.0.0.0 0.0.0.3 area 1
exit
! Configure MD5 authentication for OSPF
router ospf 1
area 1 authentication message-digest
exit
interface s0/0/0
ip ospf message-digest-key 1 md5 OSPF_SECRET
exit
! Verify configurations
do show ip dhcp binding
do show ip ospf neighbor
do show ip route ospf
! Save the configuration
do wr